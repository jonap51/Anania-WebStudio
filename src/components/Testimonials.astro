---
import Container from "./Container.astro"

const testimonials = [
  {
    name: "Esteban Contreras Vera",
    role: "Propietario de Kairos Bonsai",
    image: "./images/avatars/avatar.webp",
    stars: 5,
    text: "Excelente profesional, atención personalizada, relación precio y calidad. Más de lo que esperaba, los trabajos excelentes, súper recomendable!!",
    link: "https://kairosbonsaitienda.com",
    linkText: "kairosbonsaitienda.com"
  }
];
---

<div class="text-gray-600 dark:text-gray-300" id="testimonials">
  <Container>
    <div class="mb-20 space-y-4 px-6 md:px-0 text-center">
      <h2 class="text-3xl font-bold text-gray-800 dark:text-white md:text-4xl">
        Clientes que confían en nosotros
      </h2>
      <p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
        No solo hacemos páginas web, impulsamos negocios reales.
      </p>
    </div>

    <div class="flex flex-wrap justify-center gap-8">
      {testimonials.map((item) => (
        <div class="w-full max-w-md break-inside-avoid aspect-auto p-8 border border-gray-100 rounded-3xl bg-white dark:bg-gray-800 dark:border-gray-700 shadow-2xl shadow-gray-600/10 dark:shadow-none transition-transform hover:scale-[1.02]">
          <div class="flex gap-4">
            <img 
              class="w-12 h-12 rounded-full object-cover" 
              src={item.image} 
              alt={item.name} 
              width="400" 
              height="400" 
              loading="lazy"
            />
            <div class="text-left">
              <h6 class="text-lg font-medium text-gray-700 dark:text-white leading-none">{item.name}</h6>
              <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">{item.role}</p>
              
              <div class="flex text-yellow-500 mt-2">
                {[...Array(item.stars)].map(() => (
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                    <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" />
                  </svg>
                ))}
              </div>
            </div>
          </div>

          <p class="mt-8 italic text-gray-700 dark:text-gray-200 text-left">"{item.text}"</p>

          {item.link && (
            <div class="mt-6 pt-6 border-t border-gray-100 dark:border-gray-700">
              <a 
                href={item.link} 
                target="_blank" 
                class="text-primary dark:text-primaryLight text-sm font-semibold flex items-center gap-2 hover:underline"
              >
                Ver sitio web → <span class="text-xs font-normal opacity-70">{item.linkText}</span>
              </a>
            </div>
          )}
        </div>
      ))}
    </div>
  </Container>
</div>